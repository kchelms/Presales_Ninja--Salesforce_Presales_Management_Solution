<!-- sldsValidatorIgnore -->
<template>

    
  <lightning-card title="MY OPPORTUNITY" icon-name="action:new_opportunity">     
    <div class="slds-m-around_medium">
        <p> Opportunity </p>
        <lightning-combobox
          name="Opportunity"
          label="Available:"
          value={value}
          placeholder="Select"
          options={options}
          onchange={handleChange} >
        </lightning-combobox>
        <p>Selected Opportunity ID: {value}</p>
    </div>
        
    <div class="slds-m-around_medium">
      <p> AccountID </p>
      <lightning-input label=" " ></lightning-input>
    </div>

    <div class="slds-m-around_medium search-table search-wrapper">
      <label for="search">Search Products</label>
      <lightning-input label=" " type="search" id="search" onchange={searchEvt}></lightning-input>
      <ul class="slds-m-around_medium">
        <template for:each={filteredProducts} for:item="product">
            <li key={product.id}>
              {product.name}
              <lightning-button value={product} variant="success" label="Add" title="Successful action" onclick={addProd} class="slds-m-left_x-small"></lightning-button>
            </li>
        </template>
        <template for:each={cart} for:item="prod">
          <li key={prod.id}>
            {prod.name}
            <lightning-button value={prod} variant="destructive" label="Remove" title="Destructive action" onclick={removeProd} class="slds-m-left_x-small"></lightning-button>
          </li>
      </template>
      </ul>
    </div>
    
    <div>
      <div class="slds-clearfix">
          <div slot="actions">
              <lightning-button label="Add" onclick={addSection} class="slds-align_absolute-center">
              </lightning-button>
          </div>
      </div>
      <div for:each={sections} for:item="section" key={section.id} data-section-id={section.id}>
          <div style="display: table-row">
              <div style="width: 100xp; display: table-cell;">
                  <div class="slds-grid slds-p-around_small section">
                      <div class="slds-m-around_medium">
                          <p> Date Requested: </p>
                          <div class="slds-m-around_medium">
                              <lightning-input type="date" id="DATE" name="DATE_START"
                                  value=" "
                                  min=" " max=" "> 
                              </lightning-input>
                          </div>
                      </div>
                  </div>       
              </div>

              <div style="display: table-cell;">
                  <div class="slds-grid slds-p-around_small question">
                      <div class="slds-m-around_medium">
                          <p> Time Request: </p>
                          <div class="slds-m-around_medium">
                              <lightning-input type="time" id="appt" name="appt">
                              </lightning-input>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
  <div>
    <div class="slds-form-element">
        <label class="slds-form-element__label" for="textarea-id-01"><b>Request Description</b></label>
        <div class="slds-form-element__control">
            <textarea id="textarea-id-01" rows=10 cols=80 class="slds-textarea" style="resize:none" placeholder="Write your description here...."></textarea> 
        </div>
    </div>
    
    <div class="button">
        <lightning-button variant="submit" label="Submit" title="Submit" class="button" onclick={handleUploadAction} ></lightning-button>
    </div> 
</div>
  </lightning-card> 

</template>