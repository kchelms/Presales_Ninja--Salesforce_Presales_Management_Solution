<template>
    <lightning-record-view-form record-id={opportunityId} object-api-name="Opportunity"></lightning-record-view-form>
        <lightning-card title="Request a Presales Activity" >

            <template if:true={dateWarningShowing}>
                <div class="slds-box
                            slds-box_x-small 
                            slds-theme_shade 
                            slds-theme_alert-texture 
                            slds-theme_warning
                            slds-var-m-around_x-small" >
                    <p>
                        <strong>
                            
                        </strong> 
                    </p>
                </div>
            </template>
            
            <div class="slds-var-p-around_medium">
            <!--Search Products..add and remove -->
            <div class="search-table slds-box search-wrapper" style="background-color: #eef4ff;">
                <label for="date1" class="slds-text-title" ></label>
                <lightning-combobox name="product"
                                    label="Product"
                                    placeholder="Select Product"
                                    options={productSelector.products}
                                    onchange={productSelector.addProd} >
                </lightning-combobox>

                <abbr title="required" class="slds-required">*</abbr>
                <label for="date1" class="slds-text-title" >Selected:</label>

                <div class="selected-product-container">                    
                    <lightning-layout multiple-rows >

                        <template for:each={selectedProducts} for:item="prod">
                            <lightning-layout-item key={prod.value} >
                                <lightning-pill variant="destructive" 
                                                label={prod.label}
                                                title="Destructive action"
                                                data-item={prod.value}
                                                onremove={productSelector.removeProd}
                                                class="slds-var-m-around_xx-small" >
                                </lightning-pill>
                            </lightning-layout-item>
                        </template>

                    </lightning-layout>
                </div>
            </div>      
    
            <lightning-combobox name="activity_type" 
                                label="Activity Type"
                                placeholder="Select activity type" 
                                options={activityTypes} 
                                onchange={selectActivityType} 
                                required >
            </lightning-combobox>

            <lightning-combobox name="location" 
                                label="Location" 
                                value={location} 
                                options={locationOptions} 
                                class="slds-var-p-top_small slds-var-p-bottom_small" 
                                onchange={setLocation} >
            </lightning-combobox>
            
            <abbr title="required" class="slds-required">*</abbr>
            <label for="date1" class="slds-text-title" >Date</label>
            <lightning-input type="datetime" label=" " data-item="date1" variant="label-hidden" onchange={dateInputHandler} required></lightning-input>
            <lightning-input type="datetime" label=" " data-item="date2" variant="label-hidden" class="slds-var-p-top_small" onchange={dateInputHandler} ></lightning-input>
            <lightning-input type="datetime" label=" " data-item="date3" variant="label-hidden" class="slds-var-p-top_small" onchange={dateInputHandler} ></lightning-input>

            <!--Text Description-->
            <lightning-textarea id="textarea" 
                                label="Notes" 
                                onchange ={updateNotes} >
            </lightning-textarea>

            <!--Submit button class="button"-->
            <lightning-button   id="dateAlert"
                                variant="submit" 
                                label="Submit" 
                                type="submit" 
                                disabled={isSubmitDisabled} 
                                title="Submit"
                                class="slds-var-p-top_small slds-align_absolute-center"
                                onclick={handleSubmit} >
            </lightning-button>
        </div>
    </lightning-card>
</template>